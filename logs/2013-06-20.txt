--- Log opened Thu Jun 20 00:00:02 2013
--- Day changed Thu Jun 20 2013
00:00 < jdelgado> When researching, also make sure you are looking at OAuth 2.0, not 1.0 - big differences.
00:00 < jdelgado> And mention me if you need me, I have to get back to work
00:00 < Zaxnyd> does the link you provide include everything from the link I provided?
00:00 < Zaxnyd> basically just a newer version?
00:00 < Zaxnyd> aka, can I just read yours? =P
00:00 < Zaxnyd> or should I read both?
00:01 < jdelgado> Yeah thats just a revision of it - there are 32 versions. Most people are in rev 10
00:01 < jdelgado> Which was my link
00:01 < jdelgado> You were looking at rev 0
00:01 < Zaxnyd> good to know
00:01 < Zaxnyd> I'll take a look
00:04 < josephg> What do you guys use to run node processes in production? Upstart? Monit? Something else...?
00:07 < Zaxnyd> I'm not in production yet but https://github.com/isaacs/node-supervisor is the best one I've used so far
00:07 < Zaxnyd> my testing has not been very extensive
00:07 < Zaxnyd> I'd be curious some others' response as well
00:08 < AntelopeSalad> Zaxnyd: do you use live reload?
00:08 < Zaxnyd> for development, I do
00:08 < AntelopeSalad> with grunt or an editor specific plugin?
00:08 < Zaxnyd> again, not in production yet
00:08 < Zaxnyd> grunt
00:08 < AntelopeSalad> ah, does it work 100% of the time?
00:08 < Zaxnyd> eh
00:08 < Zaxnyd> not really
00:08 < Zaxnyd> but enough of the time
00:09 < jdelgado> josephg: Forever
00:09 < AntelopeSalad> because i use live reload too but with an editor plugin and with supervisor it fails/bugs out almost all the time
00:09 < AntelopeSalad> enough to make using it pointless
00:09 < jdelgado> AntelopeSalad: I use the sublime plugin and it works fine
00:09 < AntelopeSalad> jdelgado: that's what i'm using too, do you use the default timing setting?
00:10 < jdelgado> Yeah
00:10 < AntelopeSalad> me too, i wonder why mine is crippled hmm
00:10 < jdelgado> You know, I once had a problem with Sublime running the plugin twice, and it wasn't able to bind that port a second time
00:10 < jdelgado> So i had to close and open both the browser and sublime, but that fixed it
00:10 < AntelopeSalad> i have that happen a lot too
00:11 < AntelopeSalad> it got so annoying that i just decided it would be faster not to use it heh
00:11 < AntelopeSalad> what did you do to fix it though?
00:11 < jdelgado> Are you using it for html5 development?
00:11 < jdelgado> err anything web I guess
00:11 < AntelopeSalad> both server and client side code
00:12 < jdelgado> Theres a plugin for sublime ... sec
00:12 < AntelopeSalad> yeah i'm using that plugin
00:12 < AntelopeSalad> unless there's a new/different one?
00:12 < jdelgado> WebInspector
00:12 < jdelgado> It dials straight into chrome, rather than the pub/sub model of livereload
00:13 < jdelgado> You might have more luck with that
00:13 < AntelopeSalad> oh nice, i am using LiveReload-sublimetext2
00:13 < AntelopeSalad> thanks, i'll certainly check that one out
00:13 < jdelgado> Good luck
00:18 <@MI6> joyent/node: Timothy J Fontaine v0.10 * a2c4ca0 : string_bytes: properly detect 64bit - http://git.io/y3NpMw
00:29 <@isaacbw> you know who's beautiful? You are
00:30 < tim_smart> alchimista_: Yeah it should be: var pinIds = []; for (var i = 0, il = conv.length; i < il; i++) { pinIds.push(conv[i].pin_id) }
00:30 < alk_> I disagreee
00:30 < tim_smart> I forgot the `[i]` bit which you need for referencing the array items
00:33 < mscdex> isaacbw: https://www.youtube.com/watch?v=v3rhQc666Sg
00:33 < josephg> (thanks guys)
00:37 < Technodrome> is it bad to have callbacks in side of callbacks?
00:38 < ChrisPartridge> Technodrome: http://callbackhell.com 
00:38 < fauntle> if you go too deep
00:38 < Technodrome>  well for sql queries
00:38 < Technodrome> 3 or 4 of them 
00:38 < MitchW_> 'bad' arguably yes, somewhat unavoidable w/ CPS style languages though (such as asynchronous javascript)
00:38 < Technodrome> its either that, or the async stuff
00:39 < MitchW_> at best you can hide them with utility libraries that do it behind the scenes for you though like Q/async - which makes it 'look' like you don't have them, but really your stack goes far deeper than doing it yourself
00:39 < Technodrome> yes
00:39 < Technodrome> well, i don't have that much of an issue with it 
00:39 < Technodrome> some do though
00:40 < MitchW_> I'm quite confident it's unavoidable w/ ECMAScript 5 and derivitives (eg: recent javascript), i wouldn't worry too much
00:41 < MitchW_> ECMAScript 6 w/ vats/promises/etc (that makes up it's async model) will get around that in theory, but we're not there yet
00:42 < ChrisPartridge> Technodrome: if you are doing 3-4 queries, you should probably extract that out into some sort of data model, or even a view (if you're using a RDBMS)
00:42 < Technodrome> into some sort of data demo?? 
00:42 < Technodrome> a view in the sense of a database? 
00:42 < Technodrome> 3-4 queries isn't that bad :P 
00:43 < Technodrome> 25+, yes it gets hefty 
00:46 < Technodrome> so maybe i was freaking out a bit 
00:49 < Hayri> Hi
00:50 < Hayri> I need help installing node.js on android tablet
00:50 < Hayri> anyone live there ?
00:51 < Hayri> hello anybody there ?
00:52 <@isaacbw> "Sorry, an error ocurred while unsubscribing you from the mailing list!"
00:52 <@isaacbw> *occurred
00:52 <@isaacbw> ocult
00:52 -!- mode/#Node.js [+o TooTallNate] by ChanServ
00:52 < Hayri> hello
01:00 < Technodrome> why does the default express scaffold put the action method in a different file and not do it inline right in the route? 
01:00 < Technodrome> aka how I see most people doing it 
01:13 < durango> http://24.media.tumblr.com/976bcec26259a9269f3ee8605cc9a434/tumblr_mol33uNbsN1qf86zfo1_500.png
01:14 < ChrisPartridge> durango: haha!
01:40 < christophercliff> can anybody recommend a command line program with nicely formatted console logging and colors?
01:41 < christophercliff> and/or a node module for generating nice console logs
01:52 < ak5> hi, I wanted to build a visualization of npm deps - any idea how to get all the npm packages? Can I mirror it?
01:53 < substack> ak5: http://registry.npmjs.org/ is just a couchdb
01:53 < ak5> substack: is it open? Can I replicate?
01:53 < substack> ak5: http://guide.couchdb.org/draft/replication.html
01:54 < xanadu> quick question - does the `make` process when first installing node on EC2 micro usually take 3-4 hours?
01:55 < ak5> substack: sure, but do I have access to the npm database in that way
01:56 < substack> ak5: that IS the npm database
01:56 < substack> the whole thing
01:57 < ak5> I see, looks like I have to understand couchdb then, I was using mongo up till now
01:58 < ChrisPartridge> xanadu: everything on a EC2 micro instance usually takes 3-4 hours :0
01:58 < xanadu> haha
01:58 < xanadu> truth
01:59 < ChrisPartridge> xanadu: just get binaries
01:59 < ChrisPartridge> what OS?
01:59 < xanadu> linux
01:59 < ChrisPartridge> ubuntu?
01:59 < xanadu> amazon ami
01:59 < xanadu> it uses yum, so RedHat-ish?
02:00 < xanadu> can i just wget the .tar.gz?
02:00 < ChrisPartridge> xanadu: worth a shot
02:00 < xanadu> is there a "stable" node.js version that the cool kids are using right now?
02:01 < xanadu> or should i just live life to the fullest and download the latest?
02:01 < ChrisPartridge> xanadu: grab the latest 0.8 or 0.10
02:01 < ChrisPartridge> even version = stable
02:01 < ChrisPartridge> e.g. 0.9 and 0.11 are unstable
02:06 < Lorentz> can decimal numbers be categorised as even or odd?
02:08 < ChrisPartridge> Lorentz: in this case, the minor version even/odd - it's not exactly a decimal either, it's a semver version number
02:09 < Lorentz> ChrisPartridge: I know this, but I am humouring the idea if in maths, you can define a real number that's not an integer as even or odd
02:11 < xanadu> ChrisPartridge: any guess why after untarring the latest node binary for linux that bash rightly complains that ./configure doesn't exist? the docs seem to suggest it will exist post-untar
02:12 < Lorentz> did you cd into the directory it untarred into?
02:12 < xanadu> Lorentz: yes
02:12 < Lorentz> pastebin the ls -la of the directory you're in?
02:12 < ChrisPartridge> Lorentz: I have very basic math skills, but a "real number" is generally not the same as an "integer" anyway, even/odd really only applies to "integers"
02:13 < ChrisPartridge> xanadu: because you shouldn't need to configure binaries, they are already built
02:13 < xanadu> drwxr-xr-x  5 ec2-user ec2-user   4096 Jun 18 16:58 .
02:13 < xanadu> drwx------ 12 ec2-user ec2-user   4096 Jun 20 02:04 ..
02:13 < xanadu> drwxr-xr-x  2 ec2-user ec2-user   4096 Jun 18 16:58 bin
02:13 < xanadu> -rw-r--r--  1 ec2-user ec2-user 123224 Jun 18 16:58 ChangeLog
02:13 < xanadu> drwxr-xr-x  4 ec2-user ec2-user   4096 Jun 18 16:58 lib
02:13 < xanadu> -rw-r--r--  1 ec2-user ec2-user  33752 Jun 18 16:58 LICENSE
02:13 < xanadu> -rw-r--r--  1 ec2-user ec2-user   1635 Jun 18 16:58 README.md
02:13 < xanadu> drwxr-xr-x  3 ec2-user ec2-user   4096 Jun 18 16:58 share
02:13 < ChrisPartridge> oh dear
02:13 < Lorentz> oh, binary download
02:13 < xanadu> sorry everyone - please don't kill me 
02:13 < ChrisPartridge> xanadu: pastebin/gist mate
02:13 < Lorentz> and uh, yeah, nah, don't paste it here
02:13 < xanadu> accident, bruvs
02:14 < Lorentz> didn't know you can actually download binaries for it off nodejs, thought you only got the source
02:14 < Lorentz> well then, it's probably in that bin directory you see there
02:14 < ChrisPartridge> xanadu: did you read the README ?
02:14 < ChrisPartridge> i bet theres something useful in there
02:15 < ThePrimeMedian> anyone use EventEmitter2? is there a better way to do triggered wildcard events in express 3?
02:15 < ThePrimeMedian> like EVENT.USER_LOGIN
02:15 < xanadu> read it? i memorized it. ok, maybe not that much. but no, it's not in /bin/ either
02:15 < Beg> hey, how do I call ObjectId() from mongoose?
02:16 < ChrisPartridge> xanadu: is there a "node" binary in bin ?
02:16 < Lorentz> not /bin/, ./bin/
02:16 < ThePrimeMedian> Beg: Schema = new mongoose.Schema;  ObjectId = Schema.ObjectId
02:16 < Lorentz> obviously it doesn't untar into installing it on your system /bin or /usr/bin directory
02:16 < ChrisPartridge> yeah, ^
02:17 < Beg> ThePrimeMedian-> is that a function?
02:17 < ThePrimeMedian> sorry, omit the "new"
02:17 < Beg> ah right
02:18 < Beg> forgot that! thanks alot
02:18 < ThePrimeMedian> var mongoose = require('mongoose'); var Schema = mongoose.Schema; var ObjectId = Schema.ObjectId
02:18 < ThePrimeMedian> Beg: np
02:18 < Beg> you still fail! ^^
02:18 < Beg> maybe not. idk to tired
02:19 < ThePrimeMedian> lol @ Beg ... I'm looking at my code right now.
02:19 < Beg> well I tought the point was to have new in there
02:19 < ThePrimeMedian> nope.
02:20 < ThePrimeMedian> i write it wrong the first time.
02:20 < Beg> and then i figured it wasnt so it wasnt funny so i tried blaming it on being tired
02:21 < ThePrimeMedian> lol @ Beg
02:24 < Beg> is this the proper use? 			var objId = new mongoose.Schema.ObjectId();
02:24 < Beg> 			var User = new model.Users({ 
02:24 < Beg> 				_id: objId, 
02:24 < Beg> because it doesn't seem like it, maybe it's something else though
02:26 < ThePrimeMedian> Beg: when you create an object, the _id already gets populated as an ObjectId
02:26 < ThePrimeMedian> when you call .save();
02:26 < innociv> I have an object with getters in it.  When I try to log the object, it'll show {'foo':get propery} and such. How do I actually get it to return the object with all the values for the getters?  Do I need to do a forEach and create a new object?..
02:27 < Beg> I do understand that ThePrimeMedian, but how would I get the _id if I want to do other stuff with it without redudancy
02:28 < ThePrimeMedian> Sorry Beg; Perhaps someone else has a better idea.  try in #mongoosejs channel?
02:29 < Beg> :(
02:29 < Beg> I'll do the next best thing, I'll skip it until I actually need it!
02:30 < ccowan> is there a way to see logs from earlier?
02:32 < amagee> If I have a javascript file that I use in node.js with module.exports = { ... }, ie., a totally normal node.js file, what is that called? What is the name of the convention that uses module.exports to denote the exports?
02:32 < ccowan> Beg: are you tring to pre-generate the ObjectID?
02:32 < Beg> ccowan-> yes
02:32 < ccowan> amagee: CommonJS
02:32 < amagee> ccowan: ah thanks
02:33 < Beg> ccowan-> I tried using the object that callback returns, but it does not contain id.
02:34 < hs2> any one know why node-xmpp would fail digest-md5 auth on jabberd 2? http://pastebin.com/VP9788N8
02:34 < motiooon_> anyone wants a freelance project?
02:35 < ningu> who is lance and why should we free him?
02:37 < ThePrimeMedian> anyone use EventEmitter2? seems the wildcard is not working.... anyone have experience?
02:39 -!- mode/#Node.js [+o TooTallNate] by ChanServ
02:39 < ThePrimeMedian> nevermind...
02:44 < ericelliott> hi
02:45 < ericelliott> has the cluster module been fixed to distribute load more evenly?
02:45 < ericelliott> or is that still on the horizon?
02:48 < ChrisPartridge> ericelliott: unless theres something in the latest release, i think its still to come
02:48 < ericelliott> thanks chris!
02:48 < ak5> hi guys, in mocha, the -r/--require option - how do I do should.equal() in my tests? It doesn't define var should. Can someone help me with this?
02:49 < ningu> ak5: use the should module
02:50 < ak5> ningu: yes, I have -r 'should'
02:50 < ak5> but where is that in the scope of my test file?
02:50 < ningu> I think I may have just done var should = require('should')
02:51 < ningu> can't remember
02:51 < ningu> if mocha can do it for you, I don't know how.
02:51 < ak5> ningu: yeah, they work like that
02:51 < ningu> but I don't know much about mocha
02:51 < ak5> I am just wondering what the -r is for, then
02:51 < ningu> dunno :)
02:52 < ak5> ok, i'll skip it, then
03:22 < drx_> reminder, how to write to /log file while running under Ubuntu Upstart ?
03:29 < ccowan> drx_: at least on ubuntu
03:32 < drx_> @ccowan ?
03:32 < drx_> at least?
03:34 < drx_> How can I see console.log while running under Ubuntu Upstart ?
03:37 < ccowan> tail -f /var/log/upstart/<nameofservice>.log
03:37 < ccowan> drx_: ^^^
03:39 < drx_> @ccowan  Thanks! 
03:39 < ccowan> drx_: np :)
03:43 < garbagegod> can anyone help me remember the name of this new OS, I believe it's designed specifically for running things like node and it uses ReiserFS or something
03:44 < garbagegod> in the cloud... something like that
03:44 < ccowan> garbagegod: smartos?
03:44 < garbagegod> yes
03:44 < garbagegod> thank you 
03:44 < ChrisPartridge> it uses zfs, just fyi
03:45 < ccowan> It's not really new from what I understand it's a port of Solaris 
03:45 < garbagegod> I just knew it was something weird :P
03:45 < garbagegod> I see
03:46 < samholmes> npm install x inside a dir that's inside a dir with node_modules doesn't seem to install x in ./node_modules if x is installed in ../node_modules.
03:46 < ChrisPartridge> garbagegod: its pretty sweet, you get zones, kvm, and all the awesomeness of zfs and dtrace
03:46 < samholmes> Is this true or am I doing something wrong; how do I do a little test script in a test dir inside my project without effecting my current node_modules?
03:47 < ChrisPartridge> samholmes: is there a node_modules folder in the subdir already? or are you expecting npm to create it?
03:47 < garbagegod> it seems like it's not very robust
03:47 < garbagegod> does it have a package manager?
03:47 < ChrisPartridge> garbagegod: er... i think it is
03:47 < samholmes> ChrisPartridge: I was expecting npm to create it
03:47 < garbagegod> sorry, I could probably just google this stuff 
03:47 < ChrisPartridge> samholmes: npm will search for an existing one, above 
03:47 < ChrisPartridge> samholmes: if you create node_modules there, it will install it there, obviously
03:48 < samholmes> Oh, so if I just simply create one it'll work
03:48 < ChrisPartridge> garbagegod: yes, pkgsrc
03:48 < samholmes> I didn't know that it would do that. Thanks
03:48 < ChrisPartridge> samholmes: yw
03:49 < samholmes> ChrisPartridge: If this is how npm works, what would happen if a user had a node_modules dir at root dir?
03:49 < samholmes> that'd fuck things up pretty badly.
03:50 < ChrisPartridge> samholmes: i believe it only looks up a certain depth
03:51 < samholmes> oh
04:05 < jasonkuhrt> Can anyone help me debug why a tls server and client is not working here
04:05 < jasonkuhrt> https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6
04:05 < jasonkuhrt> Where the tls client errors-out with: This socket is closed.
04:22 < samholmes> Any tips on logging errors?
04:23 < samholmes> Should I just use console.log and configure my app to spit stdout to a file?
04:24 <@tjfontaine> you should use a library like bunyan or winston or similar
04:27 < olalonde> samholmes: console.error will spit to stderr ;) also, might be a good idea to use winston or similar like tj mentioned
04:27 < olalonde> for debugging, node-debug module is nice
04:28 < substack> samholmes: console.log is great
04:28 < substack> text is the universal interface
04:28 < substack> the problem with logging libs is that you've got to use them everywhere ever
04:28 < substack> it's hugely painful to migrate to something else later
04:29 < substack> whereas you can redirect and transform stdout into whatever format you need
04:30 < jasonkuhrt> tjfontaine: Hey, still around? https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6 I don't understand the shell output now
04:35 < jasonkuhrt> tjfontaine: Hey, still around? https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6 I don't understand the shell output now
04:35 <@tjfontaine> hhe
04:36 < ningu> substack: standard formats are still useful though, aren't they? I like to use JSON vs. ad hoc formats when useful, and on top of that, not to use totally random JSON structures if there's any standard practice.
04:36 < jasonkuhrt> tjfontaine: wow
04:37 < jasonkuhrt> tjfontaine: it appears that port doesn't work if used in options
04:37 <@tjfontaine> jasonkuhrt: or at least without a hostname?
04:37 < jasonkuhrt> tjfontaine: hostname defaults to localhost
04:37 < jasonkuhrt> tjfontaine: but this (from the docs) appears to be dead wrong: options.port
04:37 < jasonkuhrt> in full: Creates a new client connection to the given port and host (old API) or options.port and options.host.
04:38 < substack> ningu: that sounds like a lot of unnecessary structure
04:38 < substack> ningu: http://npmjs.org/package/json-scrape
04:38 < ningu> substack: all I'm saying is that when the choice is arbitrary it's good to pick something common
04:39 < substack> stdout is so common you have no idea
04:39 <@tjfontaine> inevitably with logging you have some discipline you end up using
04:39 < substack> it is called STANDARD out
04:39 < substack> it is where the output goes
04:39 < ningu> substack: sure. but why make yourself write a custom parser or whatever when you don't have to?
04:39 < substack> because you probably don't even need a parser in the first place?
04:39 < substack> what are you even going to use your logfiles for?
04:40 < ningu> well I don't mean like a proper parser a la lex/yacc, I just mean even a regexp thing with captures
04:40 < samholmes> substack: it would first appear that text is somewhat limited.
04:40 < ningu> substack: basically, freeform text files are the bane of my existence -- I spend half of my time parsing them into something more structured. it's really a pain when you don't know where one field ends and the next begins and have to use heuristics etc.
04:41 < ningu> and you always miss a rare case
04:41 < ningu> substack: anyway, it's unavoidable that much data out there *is* in that form, and it's better that it be text than some obscure binary format, sure.
04:41 < ningu> but I don't want to use that format myself if I can help it, when I'm creating something new.
04:41 <@tjfontaine> samholmes: long and short, logging is a good idea, use what you're comfortable with
04:42 <@tjfontaine> samholmes: if you do use console.* remember they're generally sync and if you're |'ing better make sure the other side is always consuming
04:42 < substack> ningu: logfiles are not databases
04:42 < substack> samholmes: see also http://github.com/substack/logdir
04:43 < substack> your server.js files all just write to stdout like normal
04:43 < ningu> substack: maybe. but the equivalent-format things I'm describing are
04:43 < substack> and this lib prefixes stdout with timestamps so you can slice them with negative indexes across multiple output streams
04:45 < substack> anyways you could pipe your server.js output to a thing that uses logdir to create a write stream
04:45 < substack> that's what ploy does
05:11 < rcombs> can I not use getters and setters defined on a prototype with Object.defineProperties() in the constructor?
05:16 < hick_> Hello! Has anyone implemented the Google CCS server in nodejs using node-xmpp? I'm having huge troubles in understanding what's happening here, considering it is the core of my app. 
05:36 < jesusabdullah> what is a CCS hick_ ?
05:37 < hick_> jesusabdullah: https://developer.android.com/google/gcm/ccs.html This is CSS! 
05:37 < hick_> jesusabdullah: I'm throughly confused about how to set up the initial authorization handshake, an always-alive tcp connection for pushing data. 
05:41 < ningu> hrm... is there no way to receive email notifications when someone commits to a watched github repo? that's kind of lame.
05:42 < ningu> damn ruby coders :)
05:43 < krunc> Kinda random question... if I want to have a RESTful backend, run on node, for my front end, does it make sense to actually use an SSG to create a static front end.. or would most people just run the front end on the same node server?
05:44 < jesusabdullah> ningu: ruby?
05:44 < jesusabdullah> what is an SSG?
05:44 < ningu> isn't github coded in ruby?
05:44 < jesusabdullah> in large part yeah
05:44 < jesusabdullah> I think the CRUD aspects are rails
05:44 < jesusabdullah> they run a dash of node, hubot is node at least and their downloads thing used to be
05:44 < krunc> jesusabdullah: static site generator
05:47 < jesusabdullah> krunc: I use static asset generation tools and serve them on the node process using a static fileserving library
05:47 < jesusabdullah> krunc: but it depends on your architecture.
05:50 < rcombs> hmm, so it turns out extending the class Buffer was a bad idea
05:51 < rcombs> also, it turns out that if you use a Buffer like an array (i.e. with x[y]) it doesn't become apparent that extending Buffer is a bad idea until much too late
05:51 < ningu> rcombs: extending builtin classes is usually a bad idea
05:51 <@tjfontaine> what. did. you. do.
05:51 < rcombs> ningu: this is the sort of thing that makes me wish JS had super() or similar
05:52 < rcombs> tjfontaine: thing.prototype = new Buffer(20)
05:52 < rcombs> as it turns out, and this should've been obvious, that results in all instances of the class sharing the same buffer space
05:52 < ningu> rcombs: use util.inherits or similar
05:53 < rcombs> ningu: most of what makes Buffers Buffers is in the constructor
05:53 < ningu> so call it from your constructor
05:53 < rcombs> hmmmmmmmm
05:53 < rcombs> that be some black magic
05:53 < ningu> not really
05:54 < ningu> Buffer.apply(this, arguments);
05:54 < rcombs> yeah
05:54 < rcombs> damn, I feel like a moron for not doing that a long time ago
05:54 < rcombs> call might be better for this, though
05:55 < ningu> rcombs: also, if (!(this instanceof FooClass)) return new FooClass(arg1, arg2);
05:55 < ningu> so that it works with and without new
05:56 < rcombs> good call
05:56 < krunc> man I wish there wasa clean way to get the html50boilerplate condition html tag coded in JADE
06:18 < ssafejava> krunc: those kind of syntax problems drive me up a wall with jade, haml, etc. I've stopped using them and gone back to EJS-style templating. no more guesswork
06:42 < Zogot> Ahoy all
06:43 < ningu> ahoy matey how's the wind in your parts?
08:08 < olalonde> hola
08:50 < zbzzn> substack: you here?
08:56 < ed8> hi, 
08:56 < ed8> How to get `npm root` for given directory (different from current one)?
08:57 < ed8> I put the question on SO: http://stackoverflow.com/questions/17209212/how-to-get-npm-root-for-given-directory-different-from-current-one
08:59 < olalonde> first, why do you want to do this? and second, you can install packages globally
08:59 < Trangar> npm install -g <YourPackageHere>
09:01 < ed8> I'm writing a script to get the list of package matching certains rules
09:01 < tsunamie> is there a eqivalent for of java docs for nodejs core calls/
09:02 < tsunamie> trying to understand req.body statement
09:02 < olalonde> use a debugger tsunamie
09:02 < olalonde> node-inspector is the most popular
09:03 < tsunamie> okay, but would there not be a core doc?
09:03 < squeeks> http://nodejs.org/api/ you mean, that?
09:03 < olalonde> ed8: would require.resolve() help you?
09:04 < ed8> olalonde: working in a zsh context
09:04 < tsunamie> ahhh squeeks - thanks what did you type in to google to get that/
09:04 < olalonde> what's wrong with current directory?
09:04 < tsunamie> just so I know for next time
09:04 < squeeks> tsunamie: I didn't, I knew where to find it already.
09:04 < olalonde> ah
09:04 < tsunamie> k
09:04 < olalonde> guess you could walk the parent directory path until you find a node_modules folder
09:06 < olalonde> that's how require.resolve works
09:06 < ed8> olalonde: I need to check something, maybe I don't need that
09:07 < ed8> olalonde: yep, I can use 'npm root' directly
09:07 < olalonde> ok didn't know about that command
09:08 < tsunamie> ghaaa at a loose end. I used the following guide to build a simple app that recorded and stored notes and modified the app slighly. however I am not sure how to perform validation on the values http://dreamerslab.com/blog/en/write-a-todo-list-with-express-and-mongodb/
09:09 < tsunamie> trying to super impose the following logic in the following example onto the form http://blog.ijasoneverett.com/2013/04/form-validation-in-node-js-with-express-validator/
09:11 < tsunamie> I am trying to get it so that the old values which were entered don't disapear then the page reloads
09:11 < tsunamie> with the error
09:16 < Blkt> good day everyone
09:18 < olalonde> evenin'
09:24 < Stibily> Hi all. I need some advice going forth on one of my projects.
09:25 < Stibily> Is anyone available to assist?
09:27 < r04r> Stibily: Maybe! ask your question and find outg
09:27 < Stibily> haha ok thanks!..
09:29 < Stibily> I want to build an multiplayer game over websockets which would feature a lobby where you can take seat positions to play another user in a head-to-head game. now, am i right in thinking that when you leave the lobby screen and go into a game (for example), the socket would be lost and then re-established with a new socket id if the game was to live on a separate page from the lobby?
09:30 < Stibily> i've noticed the module page.js, but doesn't seem terribly popular so was therefore thinking there's a better solution out there.
09:31 < r04r> Stibily: If users navigate to another page "the socket" will indeed get closed and reopened. What do you mean with "the socket"? Websockets ala socket.io or something? I seem to recall socket.io let you access cookies, or you could write some client javascript to send over the session cookie
09:32 < Trangar> Alternatively you can have the lobby and game be in the same page and use the same lobby, that might be easier
09:33 < Stibily> right i see. so capture the session to identify users and store them in mongo or redis (if required). i guess what i wanted to know was the more standard ways of doing it
09:34 < r04r> That's how I've done it, I don't know if there's a standard way of things for this
09:34 < Stibily> and yea, i suppose i could just do a single page app, and show and hide the content. my only thought was that the UI would change between game screens quite a lot and would make sense to separate it out.
09:34 < r04r> That shouldn't be a problem with a MVC app
09:35 < Stibily> r04r: ok, that sounds promising then.
09:35 < olalonde> might want to use angular.js or backbone.js to structure your app Stibily 
09:36 < r04r> Stibily: I use something like backbone and requirejs to modularize all my views and models, then during developement they get pulled in with ajax and for production compiled to one big .js file
09:36 < Stibily> great, thanks. i'm using express.js at the moment.
09:37 < Stibily> but the project hasnt kicked really off yet, so it's not too late to try backbone
09:37 < r04r> backbone/angular are for the client, in the browser, not for node.js
09:37 < Stibily> oh i see! i'm with you now.
09:37 < Stibily> ah so i can separate my views away from node that way
09:38 < r04r> yes, you could have views that get filled with data you pull in through your websockets, and some javascript code that decides what views to show/hide
09:39 < Stibily> great, that makes a lot of sense.
09:39 < Stibily> alright, i think i will go have a play then.
09:39 < r04r> good luck!
09:39 < Stibily> many thanks r04r and others for your help as always!
09:44 < Zogot> r04r: Hey. Any tips on structuring node.js code? I was attempting to write it how I write my front end JS ( object literal )
09:44 < Zogot> you see any problems with doing it that way?
09:46 < r04r> Zogot: Honestly not really any tips there, I only hobby around with the language and take a different approach with that with almsot every project... 
09:47 < Zogot> r04r: fair enough. well thanks for answering 
09:48 < Zogot> r04r: this is what I was trying yesterday. works quite well so far ( advanced it a bit passed what was there ) http://pastie.org/8060448
09:49 < r04r> Zogot: That seems good to me. Though remember you can also export a function which can be useful if a module always needs to be initialized or something
09:49 < r04r> I have to go now, though. Be well!
09:49 < Zogot> cya r04r
10:08 < standoo> hello
10:09 < sCoRpi> did anybody have issues trying to stream an audio file from node to a user? It seems to work fine in chrome, firefox, ie and safari desktop, but on ios it just fails, reporting that the file cannot be played. Serving from a different server (apache for example) works fine. So i'm guessing it's a header issue
10:09 < sCoRpi> any thoughts? :)
10:11 < tsunamie> I get the following error isEmptyObject is not defined
10:11 < tsunamie>     at buf.push.</h1>
10:11 < tsunamie>  when I put <% if (isEmptyObject(errors) == false) { %> into my ejs. I can't work out what is wrong
10:11 < tsunamie> this should be a simple check
10:11 < Beg> Hey when using mongoose schemas and refs, it is quite unclear what i should use as "ref" 
10:12 < Beg> _author			: {type:Schema.Types.ObjectId, ref:foo}, 
10:12 < Beg> what would foo equal?
10:12 < gildean> tsunamie: have you passed the isEmptyObject function to your templates?
10:13 < Beg> The method name of the class? The string supplied when compiling the schema? The collection name? 
10:13 < tsunamie> gildean? passed the isEmptyobject funtion to my template? How would that look?
10:13 < tsunamie> Gildean - not following sorry
10:13 < gildean> tsunamie: it's not a native js function, so it has to be defined
10:14 < gildean> tsunamie: are you using express?
10:14 < tsunamie> yes
10:14 < gildean> then just set app.locals.isEmptyObject = isEmptyObject;
10:14 < gildean> assuming that you've written a function called isEmptyObject
10:15 < standoo> mattheson?
10:15 < tsunamie> gildean - I am following this example, but i am using ejs http://blog.ijasoneverett.com/2013/04/form-validation-in-node-js-with-express-validator/
10:16 < tsunamie> gildean - I am not sure where I would put that call. I am assuming you want me to put in the the route for the route.create?
10:16 < gildean> no, you'd put that above your routes in the app.js
10:17 < gildean> tsunamie: as you can see in the tutorial, the isEmptyObject function is defined in the template itself
10:17 < tsunamie> I see
10:17 < tsunamie> gildean - sorry about that ty
10:23 < tilleps> anyone know how to print {{ (or any template source code) in mustache/handlebars?
10:23 < Beg> I am having issues populating the result.
10:23 < Beg> http://www.nomorepasting.com/getpaste.php?pasteid=39457
10:34 < olalonde> how can I document the structure of an object with jsdoc?
10:34 < olalonde> can anyone point me to an example?
10:34 < olalonde> I want to describe the type and purpose of all properties
10:38 < ssafejava> olalonde: idk offhand but here's my favorite jsdoc bookmark: https://code.google.com/p/jsdoc-toolkit/w/list
10:41 < olalonde> thanks
10:41 < axlwaii__> or https://github.com/jsdoc3/jsdoc
10:44 < Beg> got it to work thanks
10:50 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
10:56 < mscdex> anyone written clonezilla.js yet?
10:57 < squeeks> mscdex: well volunteered.
10:57 < overra> mscdex: like clonezilla.org?
10:58 < overra> mscdex: or something else?
11:01 < cfear> ping
11:02 < mscdex> overra: yeah!
11:02 < cfear> anyone home - i require some advice on Express 
11:02 < mscdex> overra: clonezilla server!
11:03 < overra> at work we just have a linux machine we ssh to from clonezilla
11:03 < mscdex> squeeks: cool, i know you could handle the job
11:03 < mscdex> well there is a dhcp implementation already in node
11:04 < bnoordhuis> cfear: you can just ask your question. if someone knows, s/he'll reply
11:04 < cfear> bnoordhuis: thanks
11:06 < cfear> newcomer to node: I am currently playing with callback pattern etc and i have built a simple app which queries a mongodb and renders to view using the express framewrok. My questions are regarding the db calls
11:07 < Zogot> cfear: just ask them :)
11:07 < cfear> without spamming the chat with code i am calling a function to execute the query then rendering the response
11:08 < iksik> cfear: You can paste your code ie. here http://gist.github.com
11:08 < cfear> my q is in the scenario of a dashboard how does one call multiple functions and return everything to the view
11:10 < cfear> https://gist.github.com/anonymous/e51ec3b22b60a81020cb
11:11 < cfear> so i have a so
11:11 < cfear> oops
11:11 < overra> mscdex: i guess i wasn't aware of all the different ways to use clonezilla
11:11 < cfear> ^^
11:12 < cfear> so i call the js module form router and execute the query and display the results in the view
11:12 < cfear> but thats one query i was hoping someone could help me understand how multiple queries / callback work in this scenario
11:12 < cfear> i think im missing something :)
11:24 <@MI6> joyent/node: Ben Noordhuis master * 157d2bc : buffer: fix gcc 4.2 build breakage (+1 more commits) - http://git.io/CDRJdw
11:27 <@MI6> joyent/node: Mathias Bynens master * 972465a : doc: improve punycode.js documentation - http://git.io/_-KjVw
11:27 < skom> hi , how can i read in realtime the output of shell output in linux with nodejs ?
11:29 < orioni> i have an output from ffmpeg that shows in real time the packets for a stream .... how can i use nodejs to read the bash shell output and use that into a graph for realtime 
11:30 < jaya> How to know  from which context i received the request
11:30 < bnoordhuis> jaya: define 'context'?
11:32 < jaya> bnoordhuis: I have single createServer ... Often i do need to send post request from different file .... I need to differentiate from which context it's coming
11:34 < jaya> Any Help is appreciated
11:41 < mashiya> what's the point of this irc anyways.... lol
11:42 < jaya>  I have single createServer ... Often i do need to send post request from different file .... I need to differentiate from which context it's coming
11:44 < yalamber> Hello, I am trying to allow users to export their contact lists 
11:44 < yalamber> here is gist https://gist.github.com/yalamber/5822091
11:44 < mashiya> u need to check method property of request in ur http call back
11:44 < mashiya> jaya
11:45 < yalamber> should i use process.nexttick or child process in this condition?
11:47 < cfear> anyone manage to review my gist snippit by any chance
11:49 < jaya> mashiya: I'm not getting
11:50 < mashiya> jaya: can u share ur code somewhere so i can tell u what u need to
11:50 < orioni> how can i read teh shell output command in real time ?
11:52 < jaya> Sorry its confidential 
11:52 < overra> jaya: are you using connect or express??
11:52 < jaya> connect
11:53 < mashiya> jaya: no problem
11:53 < overra> jaya: using connect-router?
11:55 < jaya> overra: nope.
11:56 < jeanlinux> quick question with node + mongoDB
11:56 < jeanlinux> is it secure to pass query parameters directly to the `find` method?. Like `this.find({name:req.params.q}, cb);`
11:56 < jaya> Thank You overra
12:02 < overra> jaya: are you wanting to know which page the post request came from?
12:03 < jaya> yes overra
12:05 < motaka2> Node is very sweet
12:05 < overra> jaya: you should be able to check req.headers.referer
12:06 < sCoRpi> overra: referrer isn't always sent, is it?
12:07 < jaya> req.headers.referer are not always sent
12:07 < sCoRpi> (depending on the browser)
12:07 < overra> sCoRpi: ah
12:09 < overra> jaya: not sure what else you could do, other than sending the name of the file/path in the data
12:09 < sCoRpi> jaya: not sure what you need to do, but maybe you can send along a hash containing the origin?
12:09 < overra> jaya: gotta get ready for work, sorry i couldn't help
12:10 < sCoRpi> if it needs to be tamper-safe, then include the origin and hash it with a private key
12:10 < sCoRpi> and send the hashed part along too of course
12:14 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
12:18 < mark___> what is required to read thie spreadsheet data and convert it to an xml file.
12:19 < mark___> anybody is here i need help
12:22 < mark___> ???
12:22 < mark___> I think you miss my question
12:25 < deanclkclk> I need help
12:25 < deanclkclk> I am running node.js on windows and I try to run this REPL -> $ node >3 >2 >1
12:25 < r04r> Me too. I'm stuck in a barrel. Send help immediately.
12:26 < deanclkclk> and when I press enter, it just shows "..."
12:26 < deanclkclk> like it waiting on something..why?
12:27 < mark___> deanclkclk: on which platformm you are
12:28 < deanclkclk> windows 8
12:28 < iggyZiggy> hello, i would like to create nodejs app that would login to one web site and read some data, can you give me some pointers? thanks
12:29 < mark___> deanclkclk :   simply type " node 3>2>1 " and then press enter.leave quotation 
12:29 < r04r> iggyZiggy: http client, html parser. There's a ton of http clients (including built in ones) and jsdom or htmlparser work well for the parsing afaik
12:30 < deanclkclk> ok
12:30 < iggyZiggy> r04r thanks!
12:32 < deanclkclk> mark___: http://tinypic.com/r/dyvs3q/5
12:32 < deanclkclk> doesn't work
12:42 < mark___> deanclkclk:  do you installed node.js on your mmachine.if yes then which version you are using
13:16 < cfear> render multiple db queries to view in express - best way?
13:16 < MorehouseJ09> :
13:16 < MorehouseJ09> :help
13:17 < jas-> cfear: dbResults.forEach(function(value) { /* format for template */ })
13:17 < jas-> cfear: assuming dbResults is an object
13:18 < jas-> MorehouseJ09: It is /help
13:19 < MorehouseJ09> join #coffeescript
13:19 < gildean> cfear: depends on what templating language you're using but most can also iterate over an array in the template
13:19 < cfear> so have an object to handle all the db queries. return to object and call render within that obj
13:19 < gildean> MorehouseJ09: irc commands start with a /
13:19 < cfear> is that right (new to node)
13:20 < jas-> cfear: Or as gildean stated pass the obj to the template and render from there
13:21 < gildean> cfear: someDb.find(query, function (err, results) { if (!err) { res.render('view', { results: results }); } });
13:22 < gildean> or: someDb.find(query, function (err, results) { if (!err) { res.locals.results = results; res.render('view'); } });
13:22 < gildean> does the same thing
13:23 < cfear> gildean: thats one query tho right
13:24 < gcds> hello everyone
13:24 < gcds> I have problem with mongodb
13:24 < gcds> I am getting error TypeError: Cannot read property 'secondary' of undefined
13:24 < gcds> } if(self.isMasterDoc['secondary'] == true) {
13:25 < gdbz> gcds #mongodb ? Maybe a better channel
13:25 < gcds> but it's node code not mongoid
13:25 < gcds> mongodb*
13:27 < jas-> gcds: Examine the self.isMasterDoc object... http://pastebin.com/iT2sv9YA (example)
13:27 < gildean> cfear: sure, but either just nest the queries or use something like async to control the flow
13:28 < gcds> jas-: how I should inspect mongodb lib code ?
13:28 < cfear> gildean: thanks fr your help btw i dont mean to be ignorant im just trying to understand how it works :)
13:29 < jas-> gcds: Use debugging output such as console.log('what you want to examine') or use the link (which includes a simple recursive function to inspect the object)
13:29 < gcds> jas-: I know that you mean
13:30 < jas-> gcds: In that case why would you want to inspect the mongodb libs? Technically the self.isMasterDoc['secondary'] object element simply doesn't exist or is not set in the error your receiving
13:31 < cfear> gildean: as an example if i required 2 queries  within first query function  call a nested query and return both at once?
13:31 < MorehouseJ09> Building an app and wanted peoples opinion on an rpc based model server
13:32 < MorehouseJ09> building a soap-like architecture and wanted to connect basic resources (mongo models etc)
13:32 < MorehouseJ09> to different client apps, these could be background server workers, front facing servers etc etc
13:32 < MorehouseJ09> any opinions / ideas?
13:32 < gildean> cfear: yeah, just put the second query inside the first if the second query is requires the first one to return first, if not, then check out the async module and use the parallel function to run the queries in parallel
13:33 < cfear> gildean: thanks for your help
13:35 < MorehouseJ09> #rails
14:08 < tsunamie> gaaaa save me, been working on this example for like 3 hours. I have posted the route, view, app.js and error in the following link http://pastebin.com/gAiEk75J
14:08 < tsunamie> I don't know why this error appears
14:08 < tsunamie> SyntaxError: Unexpected token ;
14:08 < tsunamie>     at Object.Function (<anonymous>)
14:08 < skope> show the code
14:08 < skope> oh
14:09 < con3x> Sounds like a simple one :)
14:10 < tsunamie> I ahve
14:10 < Hayri> Anyone installed node.js to android tablet ?
14:10 < tsunamie> skope? that is the code?
14:10 < skope> tsunamie: yeah, didn't see it
14:10 < skope> tsunamie: row 50 in your pastebin. excess ,
14:11 < tsunamie> k removed and same error
14:11 < tsunamie> don't think it even gets to that part
14:11 < con3x> tsunamie: Looks like line 65
14:11 < gildean> tsunamie: app.locals is not a function, it's an object
14:11 < con3x> (to me)
14:12 < con3x> Missing )
14:12 < gildean> or an array with named indices
14:12 < con3x> nvm, its not that
14:12 < tsunamie> gildean - I tried doing what you said earlier not sure what you mean
14:12 < skope> what's <%- in ejs
14:13 < gildean> tsunamie: change the app.locals({ isEmptyObject: function (obj)... to app.locals.isEmptyObject = function (obj) {....
14:14 < gildean> app.locals itself is not a function and you're using it like a function
14:14 < tsunamie> gildean - the rest stays the same?
14:15 < gildean> tsunamie: yes, of course remove the excess ) from the end of that function
14:16 < tsunamie> /opt/CC/app.js:33
14:16 < tsunamie>   isEmptyObject : function(obj) {
14:16 < tsunamie>                           ^
14:16 < tsunamie> SyntaxError: Unexpected token (
14:16 < tsunamie>     at Module._compile (module.js:439:25)
14:16 < tsunamie> when i do as you ask
14:16 < gildean> you didn't
14:19 < tsunamie> gildean - I have tried several different combination there in of http://pastebin.com/3qqJCjLG and still get the same error. i am not sure what your asking me to do
14:19 < gildean> tsunamie: you can't get that error if you used the code in the paste
14:22 < tsunamie> I am using http://pastebin.com/ev9B0u3M and i still get http://pastebin.com/ev9B0u3M
14:22 < tsunamie> opps ment to past the error - SyntaxError: Unexpected token ;
14:22 < tsunamie>     at Object.Function (<anonymous>)
14:22 < tsunamie> gildean - any idea's on how to troubleshoot this? as the error on the nodemon's not telling me much
14:23 < gildean> tsunamie: the problem is not that function anymore, it's something else
14:23 < gildean> have you linted all your code?
14:24 < gildean> with either jslint or jshint
14:24 < iggyZiggy> aaand i'm stuck again, can anyone point me to article/project that show example of loging into a site simulating a browser, using session cookie and everything that browsers normay do?
14:24 < tsunamie> linkted?
14:24 < gildean> it'll prolly give you the point of error right away
14:24 < tsunamie> not really sure what you mean by linted
14:24 < tsunamie> gildean - sorry 
14:24 < gildean> tsunamie: to run the code through either jslint or jshint or similar linter
14:25 < tsunamie> I see
14:25 < tsunamie> do you have a guide on how "lint" works
14:25 < tsunamie> ?
14:25 < tsunamie> I can implement it, i am googeling it now
14:26 < gildean> tsunamie: i like to use the jshint plugin in sublime so i can just press ctrl+b and it lints the code
14:26 < gildean> but depending on what editor you use, that might not be a possibility
14:26 < gildean> you can always just copy/paste your code to the textbox at http://www.jshint.com/
14:27 < tsunamie> gildean - I am just using vi to edit files directly
14:28 < tsunamie> I ahve an instance of node.js running on a test amazon server
14:28 < tsunamie> Gildean - I see, your saying it's an IDE plugin?
14:29 < pachet> tsunamie: i'm coming late to the conversation so i apologize if i'm missing the mark
14:29 < tsunamie> right I got you I got this
14:29 < pachet> but you can install jshint and run it from the command line
14:29 < gildean> tsunamie: no, it's a linter, i just use it as a plugin in my editor
14:29 < pachet> eg jshint myfile.js
14:29 < tsunamie> k
14:29 < gildean> yeah, there's also a vim plugin for jshint iirc
14:29 < tsunamie> I understand
14:30 < tsunamie> I will find out about it, i understand how to use it now. I am use to eclipse and the sqigilly red line
14:30 < zbzzn> substack: You here?
14:34 <@isaacbw> tsunamie: we don't use eclipse round these parts
14:40 < tsunamie> :(
14:40 <@isaacbw> vim, emacs, sublime text, pick your poison
14:41 < squeeks> intellij!
14:41 < r04r> dreamweaver :)
14:41 < zbzzn> butterflies
14:42 < zbzzn> http://xkcd.com/378/
14:42 <@isaacbw> dreamweaver is too pro for us turds
14:42 < voodootikigod> hey all
14:42 < voodootikigod> is a Ken Perkins hanging in here by chance?
14:43 < pachet> isaacbw once you've done wysiwyg node, you'll never go back
14:45 < jaya> I dont like Node.js ]
14:46 < jaya> Sorry
14:46 < werle> jaya: just hopping in here to say that?
14:47 < zbzzn> in npm what is the difference between an wierd error and a regular error?
14:47 < jaya> werle: YEs..So what ?
14:48 < r04r> jaya: I don't like you.
14:48 < voodootikigod> jaya: great to know!
14:48 < jaya> I want make  this last app in Node and i quit
14:48 < voodootikigod> jaya: we have you down as "not liking Node.js ]" thanks!
14:49 < swaj> hey guys, anyone have a good example of crypto.createCipheriv() using a PEM-encoded key?  When I try to do crypto.createCredentials with my PEM key, I just get an object with "context: {}" -- no binary key data.
14:49 < Stew-a> zbzzn: wierd errors are the ones the developers can't explain after they try to troubleshoot it for you :P
14:49 < voodootikigod> swaj: have you looked at the bcrypt code?
14:49 < werle> jaya: sounds like a personal problem 
14:49 <@isaacbw> jaya: no one really cares, bud
14:49 < werle> isaacbw: +1
14:50 < jaya> OKay Fine ...Node is Horrible
14:50 < mmalecki> isaacbw: false. I'm crying in a corner over the fact that he doesn't like node.js.
14:50 <@isaacbw> lol
14:50 < voodootikigod> jaya: there thats better, give us some passion
14:50 < voodootikigod> jaya: do it big or don't do it
14:50 < swaj> voodootikigod: doesn't look like anything in there uses PEM-encoded keys.
14:50 < voodootikigod> jaya: also write a blog post
14:50 < voodootikigod> jaya: for maximum effect
14:50 < mmalecki> don't forget a hello world benchmark!
14:51 < mmalecki> everyone knows that's how you prove that one technology is better than another
14:51 < gildean> voodootikigod: better than a blogpost, make a vlog and upload it to youtube
14:51 < jaya> mmalecki: I'm she not he MORON
14:51 <@isaacbw> medium is all the rage if you can get an author account
14:51 < r04r> Yeah mmalecki you MORON
14:51 < swaj> crypto.createCredentials({ key: "pem-encoded-ascii-string-with-key" }); returns fine, but the context is empty.  Did I do something wrong?
14:51 <@isaacbw> JESUS mmalecki 
14:51 <@isaacbw> get it TOGETHER
14:51 < mmalecki> YEAH DAMN IT mmalecki 
14:51 < mmalecki> YOU HAD ONE JOB
14:52 < jaya> This will be my last App in Node ... It's a crappy Environment...
14:52 < voodootikigod> gildean: well played
14:52 < mmalecki> gildean: oh, I remember this one vlog with some .NET fan. gotta find it now, so entertaining
14:52 <@isaacbw> jaya: thank goodness it isn't an environment
14:52 < jas-> swaj: http://nodejs.org/api/crypto.html#crypto_crypto_createcredentials_details
14:52 <@isaacbw> that was a close call
14:52 < werle> phew
14:53 < swaj> jas-: thanks, but that doc tells me nothing :)
14:53 < swaj> jas-: I'm calling the func fine, I pass it a key, it gives me back:  { context: {} }
14:53 < werle> jaya: go have fun with php or whatever it is you write hax in
14:53 < swaj> jas-: not sure how I can use that in createCipheriv
14:54 < jaya> werle: ? WTF ? Who are you ?!
14:54 < gildean> mmalecki: yeah, i think i was referring to the same exact video
14:54 < GreatPotato> Is there a way to pass a variable to less from cmd line?
14:54 < mmalecki> gildean: the one when a dude was standing in front of a TV or something? I can't seem to find it :(
14:55 < GreatPotato> if my file has @accent: #FF00000
14:55 < gildean> mmalecki: yeah, sounds like the same video
14:55 < mmalecki> wow, when I search for 'node.js' on youtube, my talk is the 4th result
14:55 < GreatPotato> Can i somehow do something like less my_file.less?accent=#00FF00 my_file.css
14:55 < gildean> mmalecki: http://www.youtube.com/watch?v=1e1zzna-dNw
14:55  * mmalecki is famous
14:55 < GreatPotato> Or something like that?
14:55 < gildean> that's the one
14:55 <@isaacbw> who is dis
14:55 < mmalecki> gildean++ :)
14:56 < r04r> gildean: is that talk for real?
14:56 < zbzzn> oh I saw that one
14:56 < gildean> r04r: i think so, tho' i'm not sure
14:56 < r04r> gildean: Less than a minute in, and I'm already loving it. Thanks for sharing!
14:56 < gildean> idk who that is, nor am i too interested in knowing
14:58 < jas-> swaj: Perhaps I need to know what your looking to accomplish
14:58 < bnoordhuis> swaj: the objects most crypto functions return are just placeholders for c++ objects, they don't have enumerable properties
14:59 < swaj> bnoordhuis: so basically, I'm trying to read pem-encoded key data from disk, and then use it in createCipheriv()
14:59 < swaj> bnoordhuis: as the key value
14:59 < swaj> bnoordhuis: does the context that is returned contain the binary key data that I can use for createCipheriv?
15:00 <@isaacbw> this looks sort of cool I guess https://github.com/louischatriot/nedb
15:01 < bnoordhuis> swaj: no. only tls supports pem-encoded keys
15:01  * jaya Node.js- Company should abandon this .
15:01 < bnoordhuis> swaj: the stuff in crypto only works with plain key data
15:02 < jas-> swaj: I was going to say, if that is the case read the pem formatted key into the createCipheriv() not into the createCredentials()
15:02 <@mbalho> isaacbw: would be cool if it supported the leveldown API
15:02 < bnoordhuis> jaya: so what's your beef with node
15:02 < swaj> bnoordhuis: so I need to find a way to generate an AES key to feed createCipheriv()
15:02 < swaj> bnoordhuis: I thought a pem key would work, my fault :P
15:02 < bnoordhuis> swaj: yes, correct
15:03 < swaj> bnoordhuis: can node generate an aes key?
15:03 < jaya> bnoordhuis: Gosh! ...It's been a week and i'm stuck with this horrible lang
15:03 <@isaacbw> mbalho: ah yea, that would be nice
15:03 < bnoordhuis> jaya: can you be a little more specific?
15:03 <@mbalho> jaya: if you dont have any constructive criticism this isnt the best place to be
15:03 < jaya> bnoordhuis: It's not Fun ......Simple
15:03 < jas-> swaj: Use the pbkdf2 functions to generate a secure key for use with aes
15:04 <@isaacbw> I don't think the mongo API is a terribly good model to base off of
15:04 < johnnode> is there any module that work correctly with AES encrypt on nodejs (expressjs) at server side and on IOS at client side
15:04 < cfear> with an inline callback say: whatever(function(e, project){} . im looking to pass multiple objects into the callback is it viable to do the following: (function(e,[project, object2])
15:04 < bnoordhuis> jaya: neither are taxes. still serves an important purpose
15:04 < r04r> jaya: You know what else isn't fun? Petting cacti. 
15:04 < jaya> bnoordhuis: I'm just using for the sake of company ... I have not enjoyed Node.js
15:04 <@isaacbw> I used to do that
15:04 < cfear> noob alert btw
15:05 <@isaacbw> the really tiny needles don't hurt at first and you think "I'm superman!" then an hour later you feel the sting and it doesn't go away
15:05 < bnoordhuis> jaya: is there anything in particular or ?
15:05 < bnoordhuis> what languages do you usually work with?
15:05 < r04r> jaya: How do you feel about javascript itself?
15:06 <@isaacbw> tell me how you FEEL
15:06 < jaya> bnoordhuis: The main reason ..It's hard to find the resource ... Since it's new .
15:06 < jaya> r04r : I Like JS
15:07 <@mbalho> jaya: http://nodejs.org/community/ http://nodejs.org/api/ http://nikhilm.github.io/uvbook/ https://github.com/maxogden/art-of-node#the-art-of-node
15:07 < jaya> r04r: I'm on my way to build a new framework on JS :)
15:07 < werle>  @mbalho nice read for libuv!
15:07 < gildean> jaya: what resources? i think the api docs are pretty damn good and readable, also there's more modules in npm than pretty much any other package manager for other languages (although there's a lot of crap there too)
15:08 <@mbalho> jaya: oh yea and https://github.com/substack/stream-handbook
15:08 <@mbalho> jaya: if you havent read all of the pages i linked you then you have to reason to complain :)
15:09 < jaya> gildean ... I'm using API Doc till now since it's good :) 
15:13 < jaya> I really dont want to compare with any programming language @gildean
15:14 < cfear> hello again. i would like to pass multiple objects to render() using async.pallell -> res.render('dashboard', object1);     }); having trouble passing in more than one object
15:16 < gildean> jaya: i was just pointing out that there are a shitload of resources available, it's not really a point to hate node on
15:17 < jaya> gildean: It's not structured
15:17 < gildean> jaya: also if you have actual problems in your code, feel free to ask about them here, most of us actually try to help people out with their node related problems
15:18 < jaya> Okay
15:18 < jaya> MY FF and Chrome allows 2 request per server ...I dont know how but it allows sequential access ONLY
15:19 < jaya> Anyone solved this problem ?
15:19 < gildean> jaya: that's a problem with the browsers, they don't like making requests to the same exact resources at the same time
15:19 < gildean> idk if there's any solution for that
15:20 < jaya> If my client operates ... It will be messy.. I cant say to them it browser problem ..Use IE LOL
15:21 < gildean> jaya: you can try and add some gibberish parameters at the end of the url, like ?blah and see if that helps out (assuming your server doesn't check those strictly)
15:22 < jaya> If anyone solved the above problem please let me know
15:27 < pachet> jaya gildean its been solved
15:27 < pachet> you mean reqs per domain?
15:27 < SomeoneWeird> is there a module for structuring the order of streams?
15:27 < pachet> its not 2 in any modern browser
15:27 <@isaacbw> lol that would be hilarious
15:27 < pachet> if you're hitting the limit (its probably 6 or 8) then either a) you're doing something wrong
15:28 < pachet> or b) you're doing everything right (not likely) and its time to spread assets across different domains
15:28 < pachet> eg cdn for static assets, api subdomain for api reqs
15:29 < jaya> pachet it's 2 i'm using FF 21
15:29 < jaya> So what is the solution ?
15:29 <@isaacbw> close your eyes and wish really really hard
15:29 < pachet> that's what i do
15:29 < pachet> sometimes it works!
15:30 < pachet> jaya you must have downloaded the joke version of FF21
15:30 < pachet> those pranksters at mozilla, what can i say
15:30 < Kakera> jaya: show the exact error you get
15:31 < jaya> pachet IS your writing sensible ?
15:32 < pachet> jaya yes, it is
15:32 < pachet> jaya i dont even know what that question means, but i'm 90% sure the answer is yes
15:33 < Kakera> what if it's not a yes or no question?
15:33 < jaya> Kakera: I found this solution http://www.openajax.org/runtime/wiki/The_Two_HTTP_Connection_Limit_Issue
15:34 < jaya> pachet : In My point No
15:35 < Kakera> last edited in 2008
15:36 < Kakera> http://stackoverflow.com/a/14768266/550110
15:36 < Kakera> stop using Firefox 2
15:36 < pachet> rofl
15:36 < pachet> firefox 2.1
15:36 < pachet> the omission of the period was crucial, the detective concluded
15:38 < jaya> Kakera: I'm using 21
15:38 < jaya> pachet Shut up!
15:39 < pachet> jaya is your writing polite?
15:40 < jaya> pachet: You were annoying me
15:40 <@mbalho> jaya: please be nice to people or you will get asked to leave
15:41 < Kakera> "asked"
15:41 < jaya> If browser cant support concurrent request then Node.js can't be helped.. 
15:41 < jaya> mbalho: I cant be nice to people who annoys me
15:41 < nathan7> Then that's a skill you could improve!
15:41 < con3x> jaya: Also, he's right, don't use firefox 2
15:42 < nathan7> It's a very useful one, too.
15:42 <@mbalho> jaya: one of the rules of this channel is that you must be nice to people
15:43 < jaya> And a rule to your rule list annoying people must be banned
15:43 < jaya> Add*
15:43 < con3x> How did he annoy you, I see nothing pachet has done wrong?
15:44 < pachet> i was being a little facetious around the edges, so i apologize for that
15:44 < jaya> i apologize for saying shut up
15:44 <@mbalho> jaya: its better if you /ignore people you dont want to talk to, i do it all the time
15:51 < swaj> jas-, bnoordhuis:  thanks for your help.  I used crypto.pbkdf2() to generate a key for me, and used that with createCipheriv.  Worked like a charm.  Cheers!
15:56 <@isaacbw> A very special day in #node.js
15:56 < mmalecki> isaacbw: how's that?
15:56 <@isaacbw> 15:36 < pachet> i was being a little facetious around the edges, so i apologize for that
15:56 <@isaacbw> 15:37 < jaya> i apologize for saying shut up
15:57 < mmalecki> oh. wow.
15:57 < mmalecki> I'll get champagne
16:04 < pachet> champagne and hugs
16:17 < stephenyoung> Hi guys.  Have you ever had a problem with npm wherein all modules get installed globally, even when not using the -g flag?
16:18 < nathan7> stephenyoung: npm config get global?
16:19 < nathan7> stephenyoung: that should give you 'false'
16:20 < stephenyoung> Hmm.  My local is fine.  It's a coworker of mine with the issue.  If I go there and it turns out this is set to true, what's the command to flip it to false?
16:22 < stephenyoung> never mind I got the docs.
16:22 < stephenyoung> Thanks!
16:27 < kenperkins> quick survey: anyone hosting on rackspace cloud?
16:28 < stephenyoung> We were on backspace at my last company.  Not at the new job though.
16:28 < stephenyoung> rackspace*
16:40 < sepdau> Why nodejs udp send message if I send over 1010 message client can't catch only 1010 message?
16:40 < sepdau> I am doing application send file multicast
16:45 < bnoordhuis> sepdau: not sure what you mean
16:45 < kenperkins> stephenyoung any feedback?
16:45 < stephenyoung> On rackspace? 
16:46 < kenperkins> yea
16:46 < kenperkins> feel free to m
16:46 < kenperkins> pm
16:56 < saschagehlich> felixge: ping, you there?
17:14 <@konobi> man, the v-22 osprey is awesome... memories of GITS:SAC abound
17:18 -!- mode/#Node.js [+o TooTallNate] by ChanServ
17:20 < kevinykchan> so true
17:27 <@MI6> joyent/libuv: Henry Rawas master * 98f67e5 : windows: Enable blocking pipe for stdio. - http://git.io/6GgAmQ
17:28 <@MI6> joyent/libuv: Ben Noordhuis master * b1d390e : windows: don't use uppercase in include filename - http://git.io/5Zz9jg
17:28 <@konobi> kevinykchan: hey kevin... *waves*
17:29 < kevinykchan> heya scott!
17:33 <@MI6> joyent/libuv: Henry Rawas master * 92040eb : stream: add an API to make streams do blocking writes - http://git.io/tH1MHA
17:35 < sepdau> because i send by udp 
17:35 < Zogot> Ahoy all
17:35 < sepdau> using dgram just send buffer instead of buffer
17:35 < sepdau> here is my question in stack http://stackoverflow.com/questions/17218548/can-not-catch-over-1000-message-when-server-send-over-1000-message-at-a-time-no
17:37 < Beg> What do you guys think about storing passwords in clear text? But you encrypt them on the client before you send them off?
17:38 < ljharb> beg: never ever do that.
17:38 < ljharb> ever.
17:39 < Beg> What are the dangers ljharb?
17:39 < ljharb> tons. if you can ever retrieve a password, someone who gets access to your systems can too.
17:39 < ljharb> beg: http://stackoverflow.com/questions/549/the-definitive-guide-to-forms-based-website-authentication
17:39 < ljharb> do everything in there. and NO LESS.
17:40 < Beg> You did not understand me, imagine my password is 5, if i hash it and send it to you, it will be encrypted, but i "payed" for the cpu, not the server.
17:40 < ljharb> i don't understand what payment is for
17:41 < ljharb> passwords are usually sent in clear text but over HTTPS. however, before you do anything with it on the server, you hash/bcrypt it (all in the guide) and you ONLY work with that irreversible encrypted hash of the value.
17:41 < Beg> Why does it matter if i encrypt it on the server or on the client?
17:41 < ljharb> always use HTTPS, and don't handle your own authentication - because you WILL do it wrong. use a well-tested third-party solution.
17:41 < ljharb> the client can never be trusted
17:41 < ljharb> except for HTTPS. so encrypting it on the client is utterly worthless
17:42 < ljharb> and if you don't use HTTPS, you're screwed no matter what you do.
17:42 < ljharb> also, encryption is reversible. so that's not enough by itself. you also need to hash it. also you should use bcrypt, so that it takes a constant amount of time, otherwise i can figure out how long a password is by how long it takes your server to tell me that it's the wrong one.
17:42 < ljharb> and once i know how long it is, it's infinitely easier to brute force.
17:43 < ljharb> just read that stackoverflow link. and do everything it says.
17:43 < Beg> I used the wrong word, i ment hashed, not encrypted.
17:43 < Beg> I am using bcrypt atm, but I can Ddos myself by pressing f5
17:44 < ljharb> bcrypt by itself isn't enough.
17:44 < ljharb> but, then either you're encrypting too much, or your server's too weak.
17:44 < Beg> using heroku free
17:44 < ljharb> also, if you READ THAT GUIDE, it will tell you how to throttle properly to prevent that problem.
17:45 < ljharb> again, just use a well-tested, widely-used, pre-existing authentication module. there's lots of there in every language. don't waste time trying to write one yourself.
17:45 < tuhoojabotti> lol
17:45 < tuhoojabotti> Freenode is now rate-limiting whois?
17:45 < tuhoojabotti> wtf
17:46 < tuhoojabotti> I didn't even use it today
17:46 < ljharb> how many whoisses do you really need to do?
17:46 < tuhoojabotti> I think it's a bug.
17:46 < ljharb> i can use them fine. so maybe it's your client, or your ip, or your account.
17:46 < tuhoojabotti> ljharb: It happened when I tried to do one in a query, doing one here worked, weird.
17:47 < tuhoojabotti> ljharb: I see, that you're afk. :P
17:47 < ljharb> :-p
18:11 < fryck> Hello !
18:11 < skope> lo
18:12 < fryck> Someone know rendr library (from Airbnb team)
18:12 < fryck> ?
18:13 < ljharb> i know of it
18:13 < fryck> cool ljharb :)
18:13 < Beg> ljharb-> that was a nice read.. yes I do understand why that is now
18:14 < fryck> I've installed skeleton app with rendr
18:14 < fryck> i have an error client side "Expecting a function in instanceof check, but got body"
18:14 < Beg> ljharb-> so you should basically not be able to crack any password, even if it's easy, that's the goal..
18:14 < ljharb> correct
18:18 < brianc> hey guys
18:18 < brianc> anyone here going to nodeconf from out of town & doing the campout tickets?
18:18 < brianc> was wondering how you plan on getting a tent & sleeping bag out there
18:18 < brianc> or if you're just gonna fly with one
18:23 < tuhoojabotti> isaacbw: http://tuhoojabotti.com/r/prsc/isaacbw.png
18:34 < fryck> Backbone.$ undefined ??
18:34 < fryck> how it is possible ?
18:35 < fryck> omg jquery...
18:47 < Trangar> I remember why I need to hide join/part messages in this channel again :D
18:49 < stefan41> i'm having hella trouble installing bower just now
18:49 < stefan41> is there a problem with that package, or just me?
18:50 < Trangar> stefan41, what's the problem you're running into?
18:50 < stefan41> actually seems to be a problem with the cookie-signature module
18:51 < stefan41> npm eventually craps out with npm WARN package.json cookie-signature@1.0.1 No repository field.
18:51 < Trangar> That's a Warning and can be ignored
18:52 < stefan41> sorry, yeah
18:52 < Trangar> It installed fine for me :)
18:52 < Trangar> "npm install bower" yeah?
18:52 < stefan41> it actually is crapping out on generator-karma and generator-angular
18:52 < stefan41> yeah
18:52 < stefan41> just updated to 0.10.12 though
18:53 < Trangar> Hmm, it seems to work fine under 10.7
18:53 < Trangar> Let me get the latest version
18:55 < Trangar> stefan41, it still installs fine for me, can you upload the logs somewhere?
18:56 < stefan41> yeah, about to :-)
18:57 < stefan41> Trangar: know a pastie site that allows pastes >64kb?
18:57 < Trangar> I usually put it on my site, so no, sorry :(
19:00 < stefan41> http://pastebin.com/Pu0WnmkA
19:01 < stefan41> that's the end of it at least
19:01 < Trangar> stefan41, https://github.com/yeoman/yeoman/issues/1065 I found this, that might help
19:02 < Trangar> Or gnerally https://www.google.nl/search?q=The+package+generator-karma+does+not+satisfy+its+siblings'+peerDependencies+requirements!&oq=The+package+generator-karma+does+not+satisfy+its+siblings'+peerDependencies+requirements!&aqs=chrome.0.57.137j0&sourceid=chrome&ie=UTF-8
19:02 < Trangar> Dammit google and your insanely long URLs
19:06 < fryck> I have some difficulties to understand which code is executed server side or client side
19:06 < fryck> for example using Backbone on server side & client side 
19:06 < fryck> :/
19:07 < Trangar> fryck all the code that is being require()'d is server side, all code that is send to the client is client-side :D
19:07 < fryck> yes, but when code is send to client ?
19:07 < fryck> res.end() ?
19:07 < Trangar> Yes
19:08 < Trangar> If you go to your browser
19:08 < Trangar> And view source
19:08 < Trangar> YOu can see the javascript that is being executed client-side
19:08 < fryck> i try to understand rendr lib wich use Hard Way to share Backbone logic between client & server
19:08 < fryck> witch*
19:08 < Trangar> Isn't backbone only client-side?
19:09 < fryck> no
19:09 < fryck> Backbone can be share between both side
19:09 < Trangar> Hmm interesting
19:09 < fryck> take a lookk at http://blog.andyet.com/2011/feb/15/re-using-backbonejs-models-on-the-server-with-node/
19:09 < program247365> http://nerds.airbnb.com/weve-launched-our-first-nodejs-app-to-product
19:09 < fryck> and the lib i try to understand : https://github.com/airbnb/rendr
19:09 < fryck> yes program247365 that's it :)
19:09 < program247365> Boom. :)
19:10 < fryck> i think it's very good approach but i'm little confused :)
19:11 < fryck> program247365: what's the main advantage to use this way ?
19:11 < Trangar> "But it's also been hyped up more than an Apple gadget." low blow dude..
19:12 < fryck> and ? :)
19:12 < program247365> fryck: Sharing code between both client and server side. Less duplication on either side for templating, etc.
19:14 < fryck> program247365: i think i'll try to build a simple application from scratch to understand the benefit :)
19:14 < fryck> like a simple blog system
19:14 < Trangar> That works best with most modules
19:14 < Trangar> Make a game!
19:14 < program247365> fryck: Definitely. Good place to start.
19:15 < program247365> fryck: Also, checkout the introduction video to Rendr - http://mrkn.co/s/post/1472/introduction_to_airbnb_rendr_video
19:16 < fryck> thanks ! program247365 i'll try to understand, i'm french lol
19:16 < program247365> fryck: Ah, gotcha. Well at least the slides are on the page, especially #13.
19:17 < fryck> yes :)
19:17 < fryck> many thanks
19:17 < program247365> You're welcome.
19:20 < fryck> program247365: have you tried to build app under this way ?
19:21 < fryck> by this way*
19:22 < program247365> I was at the conference when the AirBnB guy introduced. So I know of it, but, no, I have not had a chance to build an app using it. :(
19:23 < fryck> Arf ok 
19:23 < fryck> :/
19:28 < wc-> fryck: i tried using rendr for an app, the server side rendering is sweet
19:28 < wc-> but i felt like theres a major lack of documentation surrounding the role of the controller and views and models
19:28 < wc-> ended up ditching it
19:28 < wc-> but it was cool
19:28 < wc-> good luck w/ it
19:29 < fryck> wc- thanks lol
19:29 < wc-> ya haha, sry for being a debby downer
19:29  * eperez anybody running into an issue when creating folders
19:29  * eperez using nodejs
19:30 < fryck> That is why i tried to directly understand the source code of rendr wc-
19:30 < fryck> lol
19:30 < jas-> eperez: Only when permissions don't allow me too
19:30  * eperez do you use fs.mkdir() command
19:30 < wc-> honestly i was just short on time and dont have a lot of background with backbone to begin with, it wasnt good for my timeframe
19:30 < jas-> eperez: What error are you receiving?
19:30 < zbzzn_> substack: you around?
19:31  * eperez warning: Recursive process.nextTick detected. This will break in the next version of node. Please use setImmediate for recursive defer$
19:31 < fryck> wc- yes i think it's better to have good skill with Backbone first
19:32 < fryck> I get lost a bit with these (new) concepts
19:32 < fryck> lol
19:32 < jas-> eperez: Got me, but it looks like a recursive function you wrote is accessing the nextTick() function which according to the message will be removed in future releases
19:32 < jas-> eperez: Have you read the manual for the fs module?
19:33  * eperez I am just using fs.mkdir() function to create a directory.
19:33  * eperez don't know if I will need to create the directory differently.
19:33  * eperez I have read the fs docs
19:34 < jas-> eperez: Is there a symlink with the same name?
19:36 < fryck> wc-: i have an error (client side) with rendr application skeleton
19:36  * eperez no
19:36 < fryck> wc-: Uncaught TypeError: Expecting a function in instanceof check, but got body
19:36 < fryck> wc-: Backbone.$ (jQuery) seem to be undefined
19:36 < wc-> in your web console is jquery there?
19:36 < wc-> $.find
19:36 < wc-> or whatever
19:36 < fryck> no
19:37 < wc-> hmm, it should be included via the grunt file
19:37 < fryck> but jquery is not present in package.json of rendr app
19:37  * eperez what worries me is that fs.mkdir is using process.nextTick and this is something that won't be supported
19:37  * eperez thanks jas btw
19:37 < fryck> and not present in rendr grunt file
19:37 < wc-> lemme see what i had in mine just a sec
19:37 < fryck> yes thanks wc-
19:38 < wc-> whats the preferred pastebin ehre?
19:38 < wc-> !paste
19:38 < wc-> !p
19:38 < fryck> copy/paste your code in private oterwise
19:39 < zbzzn_> pastebin?
19:39 < jas-> eperez: Strange, don't see anything in the source for that particular error message
19:40 < jas-> eperez: can you post the code your working with to pastebin?
19:40 < zbzzn_> if you post a link to pastebin we can all take a look
19:40  * eperez I updated to latest nodejs and started happening
19:40 < eperez> ok
19:40 < jas-> eperez: latest version? as in?
19:40 < jas-> eperez: what os?
19:41 < eperez> using nodejs 0.10.12
19:41 < eperez> ubuntu server 12.04 LTS server
19:41 < jas-> eperez: Installation and update method?
19:41 < jas-> eperez: From source or from apt repo?
19:41 < eperez> apt repo
19:42 < jas-> eperez: who's?
19:42 < zbzzn_> for the love of FSM, just paste the code
19:43 < jas-> eperez: It is an unstable branch btw
19:43 < eperez> pastebin link btw: http://pastebin.com/sBWGJGLJ
19:43 < gildean> jas-: 0.10.x is the stable branch
19:43 < gildean> jas-: the stable ones are the even ones, the dev branch is the odd one
19:43 < jas-> gildean: http://packages.debian.org/search?searchon=names&keywords=nodejs
19:44 < eperez> this is the apt repo: chris-lea/node.js
19:44 < jas-> eperez: url?
19:45 < gildean> jas-: the experimental in that means the debian version, not node version
19:45 < gildean> jas-: https://launchpad.net/~chris-lea/+archive/node.js/
19:45 < jas-> gildean: Yeah, that is what I was talking about as being unstable
19:45 < gildean> jas-: but he's using ubuntu, not debian
19:45 < killfill> hi, anyon uses node with dtrace?.. args[1]->remoteAddress of the http-client-request probe is undefined
19:46 < jas-> gildean: whoops, shoot
19:46 < zbzzn_> eperez: what is the problem then?
19:46 < M28> eperez: depending on the type of data you're using, I'd recommend you to use a database instead of the file system
19:47 < eperez> I am just trying to create a directory
19:47 < eperez> through nodejs
19:47 < zbzzn_> and you get an error?
19:47 < eperez> error: (node) warning: Recursive process.nextTick detected. This will break in the next version of node. Please use setImmediate for recursive defer$
19:48 < eperez> keeps going until it kills the stack
19:49 < jas-> eperez: Can you do me a favor? The pastebin you posted uses folders outside of the script root... can you remove all of the ../../../../ and try to simply create a folder in the current working directory?
19:49 < jas-> eperez: I think that one of those /../../ is a symlink causing the error
19:50 < eperez> ok, will try it.
19:50 < bnoordhuis> killfill: what version of node?
19:50 < eperez> 0.10.12
19:50 < eperez> sorry..  bnoordhouis discard that
19:52 < killfill> bnoordhuis, v0.10.12
19:52 < killfill> bnoordhuis: tried with the latest base64 dataset of smartos
19:52 < eperez> jas: it is still not working.
19:53 < plops> hi!!!
19:53 < killfill> bnoordhuis, maybe im doing something wrong.. dont know... :P  but i see the remoteAddress and Port as undefined and 0..
19:53 < eperez> it works on my local version of node 0.8.3
19:54 < jas-> eperez: Then I would keep using that version
19:54 < eperez> I am not using that version due to security issues
19:54 < zbzzn_> I don't think this code is related
19:54 < zbzzn_> to the problem
19:55 < bnoordhuis> killfill: there have been master-only fixes to the stap/dtrace probes
19:55 -!- mode/#Node.js [+o TooTallNate] by ChanServ
19:55 < bnoordhuis> killfill: iow, it's possible that's fixed, just not in v0.10
19:55 < eperez> I am pretty sure it is the way the directory is being created recursively
19:56 < bnoordhuis> killfill: what does your probe look like btw?
19:56 < eperez> but what I don't get is why fs.mkdir would fail if node is removing support for process.NextTick
19:56 < zbzzn_> if you remove the mkdir it works?
19:57 < eperez> well.. if I point to a location what already exists.
19:57 < eperez> but since I am creating a directory dynamically I need to use mkdir 
19:57 < eperez> to create the new directory
19:57 < bnoordhuis> eperez: fs.exists followed by fs.mkdir is something of an anti-pattern
19:58 < bnoordhuis> eperez: it's inherently race-y. just try to mkdir and handle the error if it fails
19:58 < eperez> ok
20:00 < eperez> doing a try catch on fs.mkdir
20:00 < zbzzn_> try catch?!?
20:00 < zbzzn_> you are supost to handle err I think
20:00 < zbzzn_> in the callback
20:00 < killfill> bnoordhuis: just simple as http://pastebin.ca/2403548
20:01 < eperez> ok, then
20:05 < eperez> still get this error: (node) warning: Recursive process.nextTick detected. This will break in the next version of node. Please use setImmediate for recursive defer$
20:11 < jasonkuhrt> Why might this simple tls client/server https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6 be failing with "Hostname/IP doesn't match certificate's altnames"
20:11 < jasonkuhrt> I've been debugging for at least a day, reading up on tls/ssl X.509 but cannot figure this out i.e. is node.js messing up or my cert?
20:12 < jasonkuhrt> to boot openssl s_client works but the nodejs client does not
20:14 < jas-> jasonkuhrt: Browser?
20:14 < aib> does anyone know where I can find documentation for mocha's 'assert' module, or whatever 'assert' module is used with a fresh node installation that only includes mocha?
20:14 < bnoordhuis> killfill: for http probes, the connection object is the second argument iirc
20:14 < jasonkuhrt> jas-: you mean try in browser?
20:14 < bnoordhuis> killfill: your second probe is using args[0]
20:15 < killfill> bnoordhuis: or more simple just dtrace  -qn 'node*:::http-client-request { printf("|%d|\n", args[1]->fd); }'
20:15 < killfill> everything of the connection obj is empty.. :S
20:16 < jas-> jasonkuhrt: No I mean if your using the openssl s_client and it works what browser are you trying when you recieve the hostname/ip doesn't match certificate's altnames'?
20:17 < jasonkuhrt> jas-: no browser, this is strictly one node tls client trying to connect to a node tls server
20:17 < jasonkuhrt> jas-: is that clear from the posted gist?
20:17 < jas-> jasonkuhrt: DIdn't see it
20:17 < jasonkuhrt> jas-: https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6
20:18 < baconmania> Hey guys, I have a question about HTTP POSTs. If I send a POST to an Express, is it possible to get Express to NOT try to interpret the POST body as a set of key/value pairs, and just return the req.body as-is?
20:18 < nathan7> aib: assert is node core
20:18 < nathan7> aib: http://nodejs.org/api/assert.html
20:19 < flyinprogramer> is there a reason we do this: https://github.com/joyent/node/blob/master/src/node_root_certs.h  instead of grabbing a certfile from our local machine and using that instead ?
20:19 < aib> nathan7: ahh great. thanks
20:20 < bnoordhuis> flyinprogramer: what cert chain would you use? my ubuntu system has (at least) three different ones
20:20 < bnoordhuis> also, windows
20:21 < flyinprogramer> bnoordhuis: good questions -- but projects like the ruby interpreter have solved this
20:22 < bnoordhuis> do you know how?
20:22 < flyinprogramer> bnoordhuis: my point is, other c projects have solved this problem cross-platform;;  i'm new to the node community so is there a particular reason why we do this over that
20:23 < jas-> jasonkuhrt: Are you using a FQDN to connect to the TLS server? What is the current value of commonName attribute? From the pastebin it looks like 'localhost' but the CN of the certificate is www.littlebits.com
20:23 < flyinprogramer> bnoordhuis: got 4 years of C behind me; and copy+pasta + testing -- could be a weekend/summer project
20:24 < flyinprogramer> bnoordhuis: i just didn't want to waste my time if it was like - we already did that once, we ripped it out because X,Y,Z reasons - be-gone-with-you-flyinprogramer-you-be-wastin'-our-timez
20:24 < bnoordhuis> flyinprogramer: ah, the question is 'rationale'? consistency across platforms and ease of use
20:24 < jasonkuhrt> jas-: not sure what FQDN is?
20:25 < baconmania> fully qualified domain name
20:25 < bnoordhuis> flyinprogramer: the one thing i want to do sometime during this dev cycle, is to make it easier to update the .h
20:25 < jas-> jasonkuhrt: fully qualified domain name; according to the output you are connecting to localhost, but the commonName attribute on the certificate is 'littlebits' which obviously doesn't jive
20:25 < jasonkuhrt> jas-: no, I am using 0.0.0.0:9898
20:25 < flyinprogramer> bnoordhuis: okey doke -- i'll see what i can whip up - if ya'll love it; awesome; if ya'll hate it; welp what's a little more C experience 
20:26 < jasonkuhrt> jas-: Okay, so I need to make the CN jive with the actual FQDN at play
20:26 < bnoordhuis> flyinprogramer: what i have in mind is something like a python script that downloads the master chain from mozilla and transforms it to c code
20:27 < jas-> jasonkuhrt: You are bound to any adapter on tcp port 9898, but your hostname is bound the ipv4 - ipv6 address, the fqdn should match the hostname and your certificate doesn't use localhost as the commonName
20:27 < jasonkuhrt> jas-: how does one work locally then? I could use altnames to specify additional hosts?
20:27 < jas-> jasonkuhrt: One solution would be to edit the /etc/hosts file and fake a fqdn pointing to localhost
20:28 < bnoordhuis> flyinprogramer: it's something that would only need to be run occasionally by a core dev, we'd still ship a ready-to-use .h
20:28 < jasonkuhrt> jas-: yeah, but ultimately I still have to have multiple hosts if for no other reason than: www.foo.com AND foo.com
20:29 < flyinprogramer> bnoordhuis: seems reasonable to me!
20:29 < jas-> jasonkuhrt: Technically the AltNames can be used for that but I would suggest using new certificates per domain to isolate (in the event of a private key theft) the compromised certificate on all fqdn's
20:29 < jasonkuhrt> jas-: so I would use altNames and pick one for CN... but I am also reading that altnames replaces CN and CN is only read if no altNames are present
20:29 < flyinprogramer> bnoordhuis: i don't know much python, but that i could whip out really quick i'm sure with my ruby background
20:30 < jasonkuhrt> jas-: okay I see
20:30 < bnoordhuis> flyinprogramer: python's easy. just use two spaces for indent rather than four :)
20:30 < jasonkuhrt> jas-: Any idea why s_client would be working, though?
20:30 < flyinprogramer> bnoordhuis: haha sweet -- look for something from me by Monday if not earlier
20:30 < jasonkuhrt> is* working, rather
20:31 < jas-> jasonkuhrt: s_client will always return true, but if you look at the output you will see return code 18 (self signed certificate) and the default depth is 0 for verify process
20:32 < jas-> jasonkuhrt: s_client is a testing tool
20:32 < jasonkuhrt> jas-: ah yes I noticed that! if everything goes okay return code should be 0...
20:32 < jas-> jasonkuhrt: gtg
20:32 < killfill> bnoordhuis: any idea why i cannot see the data from dtrace?
20:32 < jasonkuhrt> jas-: thanks for your help, I think your cleared up my main confusion, cheers!
20:35 < bnoordhuis> killfill: no, sorry. i don't use it myself. you could ask tjfontaine
20:36 <@tjfontaine> ohi
20:37 < killfill> hi tjfontaine :)
20:37 <@tjfontaine> catch me up?
20:37 < killfill> tjfontaine: would you happend to know why when doing this: dtrace  -qn 'node*:::http-client-request { printf("|%d|\n", args[1]->fd); }'
20:37 < killfill> i alwais see 0?
20:38 <@tjfontaine> killfill: which version of node and which host os?
20:38 < killfill> tjfontaine: v0.10.1 on a smartos base64 1.9.1
20:38 <@tjfontaine> killfill: that version doesn't include the fd fix, you need a newer version of node
20:39 < killfill> tjfontaine: all the connection object is empty not only fd..   ive try with v0.10.12 too.. :)
20:39 <@tjfontaine> hm
20:39 <@tjfontaine> I will look into this further
20:40 <@tjfontaine> ok so http-server-request has it, but http-client-request doesnt'
20:40 < killfill> tjfontaine: actually none has the data.. :(
20:40 < killfill> ah sorry
20:40 < killfill> yes
20:41 < killfill> server has it, client dont
20:41 <@tjfontaine> ya, I need to look at when the client is fired, it may be that the fd isn't set yet
20:42 < killfill> tjfontaine: its not that im a fan or observing the value of fd.. :)  but im trying to read the latency of client req/resp. as it fires all in the same thread cannot use self-> to save the data between req and response
20:42 < killfill> and match thouse two up.
20:43 < killfill> someone told me to use fd to match it..:)
20:43 <@tjfontaine> ya, I'm guessing that the handle is gone by the time we've fired this event and that's why you're not seeing it
20:43 <@tjfontaine> or I did something wrong
20:46 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
20:47 <@tjfontaine> killfill: ok, my previous fix for fds was incomplete
20:48 <@tjfontaine> killfill: HTTP_CLIENT_* uses a different path and that's why it's still 0
20:49 <@piscisaureus_> isaacbw: what does bw stand for?
20:50 < killfill> tjfontaine: does that explain too that args[1]->url is undefined too?
20:51 <@tjfontaine> killfill: maybe, that's probably a js change, this is a cc change
20:56 < bnoordhuis> killfill, tjfontaine: i don't think url is actually a defined field?
20:59 <@tjfontaine> bnoordhuis: that's what I assume
21:01 < djf67> Help ... How to change the url on response ?
21:03 < djf67> IS there any kind of way of forwarding ?
21:03 < djf67> so that url get's changed and i can access through connect
21:06 < zomg> djf67: You mean you want to redirect the user?
21:06 < djf67> no i just want to forward 
21:07 < zomg> djf67: what exactly is the difference between forwarding and redirecting?
21:07 < zomg> :P
21:07 < djf67> zomg: A LOT
21:09 < killfill> bnoordhuis: tjfontaine well dtrace -v shows the secons arg is a node_connection_t, wich has fd, remoteAddress, remotePort, and bufferSize
21:10 <@tjfontaine> killfill: yes, they're just not all being filled in right, I can fix most of it, I'm working on making it all work though
21:10 < killfill> ah greate.
21:10 < zomg> djf67: are you waiting for someone to guess what those differences are? =)
21:10 < killfill> hope i can help more
21:10 < djf67> zomg:I know the difference
21:10 < djf67> I was Ja
21:10 < heath> http.createServer creates a new instance of the Server class?
21:11 < zomg> djf67: ok, if you don't want an answer to your question :P
21:11 < heath> i think that's what i'm reading
21:11 < djf67> I want to forward zomg
21:12 < djf67> forwarding is something Server manages to do ........redirecting ...client is involved in this ... double request
21:12 < killfill> tjfontaine: you happend to know if there is a old version of node that works?.. need to prob my production system.. :P
21:12 < zomg> djf67: Oh you just want to call a different handler instead of actually redirecting the user to said handler?
21:13 <@tjfontaine> killfill: fairly sure this was broken in the libuv revamp, so I wouldn't suggest using anyhting where it would work :)
21:13 < djf67> zomg Okay then
21:13 < djf67> ?
21:14 < zomg> djf67: just.. call the function? I dunno why you would need to do something different
21:15 < djf67> Anyone help me out
21:15 < zomg> Eh, to be honest I have better things to do than try and guess what you want...
21:15 < killfill> tjfontaine: hope to catch up the fix then.. :)
21:16 < djf67> I'm a Java Developer ..I'm stuck with Node now....
21:16 <@tjfontaine> killfill: shouldn't be too much longer
21:16 < djf67> zomg ignore
21:17 < djf67> Anyone pls help me
21:17 < zomg> djf67: yeah if that's what you'll do to everyone who tries to help, then good luck with getting any =)
21:18 < zomg> but hey, suit yourself
21:18 < zomg> lol
21:18 < djf67> zomg you didnt help
21:18 < djf67> You were busy commenting
21:19 < zomg> djf67: I was trying to understand what you wanted 
21:19 < zomg> because your question was vague
21:19 < djf67> But  i said what i wanted
21:19 < djf67> Okay i'll post in stackoverflow
21:19 < MiniGod> guys. this is really annoying. i get BSOD every time I try to listen to a port. anyone heard of anything like that?
21:20 < zomg> djf67: I don't think you're going to get any help there either with that attitude :p
21:20 < djf67> zomg Stop it...
21:20 < zomg> I'm just telling you how it is
21:20 < zomg> If you pose a question nobody understands
21:20 < zomg> and then refuse to explain it
21:20 < zomg> nobody will help you :P
21:21 < djf67> Thanks 
21:23 <@tjfontaine> killfill: in my test req.method and req.url should be working fine
21:23 <@tjfontaine> but I've made the implementation nicer in this change
21:26 <@MI6> joyent/node: Ben Noordhuis master * b255f4c : child_process: emit 'disconnect' asynchronously - http://git.io/Gx_msA
21:27 <@tjfontaine> killfill: https://github.com/tjfontaine/node/compare/joyent:v0.10...http-client-request
21:28 < hallas> anyone got some tips on how to tune ubuntu for nodejs performance sysctl?
21:31 < bnoordhuis> hallas: mostly like how you would tune it for apache or nginx
21:31 < bnoordhuis> i'm assuming the common use case here of using it as a (web) server
21:32 < hallas> bnoordhuis yeah, but no proxy
21:33 < killfill> tjfontaine: greate, will test it :)
21:33 < killfill> tjfontaine: can i ask you something.. why are there just a few probes?
21:34 <@tjfontaine> killfill: mostly because these are the ones there are, what others are you looking for? a lot can be done with user space probes
21:35 < killfill> tjfontaine: dont know.. for example how would i take the time how much JSON.parse consume in my proggy?
21:36 < bnoordhuis> killfill: that'd be a v8 probe, not a node probe
21:36 <@tjfontaine> right, and can be done with a user space probe in the places you do it
21:36 < killfill> tjfontaine: how would you trace that?
21:37 <@tjfontaine> killfill: also if you're interested in the "how long" part, see flamegraphs and jstack
21:37 < killfill> yup playing with jstack.. but want to take the time.. not the trace-count
21:38 <@tjfontaine> killfill: fucntion myParse() { dtrace.fire('json-parse-start'); JSON.parse(); dtrace.fire('json-parse-stop'); }
21:38 <@tjfontaine> killfill: you could maybe monkey patch that as well
21:39 < jasonkuhrt> Hm, I am still having problems with node.js tls client throwing: "Hostname/IP doesn't match certificate's altnames" when trying to connect to a node.js tls server
21:39 <@konobi> mscdex: is ncurses_cfg.h supposed to be included in the ncurses package?
21:39 < killfill> ah
21:39 < jasonkuhrt> I can use openssl s_client with exit code 0 (OK) so I am really confused
21:39 < jasonkuhrt> gist: https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6
21:40 < jasonkuhrt> anyone who can chime in (again) I would be very thankful
21:40 < jasonkuhrt> kind of at my wits end
21:44 < bnoordhuis> jasonkuhrt: do you have two domain names in your subjectAltName field?
21:45 < jasonkuhrt> bnoordhuis : yes? https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6#file-req-conf-L23-L24
21:45 < jasonkuhrt> bnoordhuis: or are you referring to something else?
21:47 < bnoordhuis> jasonkuhrt: no, just verifying. i don't think node supports that
21:48 < bnoordhuis> i'm kind of surprised s_client does
21:48 < bnoordhuis> what version of openssl is that?
21:49 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
21:49 < jasonkuhrt> bnoordhuis : OpenSSL 0.9.8x 10 May 2012
21:50 < jasonkuhrt> bnoordhuis: so you're suggesting that what node.js does support is a single FQDN in the CN field?
21:50 < jasonkuhrt> bnoordhuis: I believe I tried that without success, but worth confirming again
21:50 < mscdex> konobi: yes
21:52 <@konobi> hhhmmm...
21:54 < jasonkuhrt> bnoordhuis: removing the multiple alt_names and using just a single host in the commonName field does not work either
21:55 <@konobi> mscdex: can't seem to get 0.4.1 to build on illumos
21:55 < jasonkuhrt> bnoordhuis: same exact behaviour: s_client is happy, node is not
21:55 < bnoordhuis> jasonkuhrt: wait, i'm wrong. node splits the subjectAltName field on ", "
21:55 < jasonkuhrt> bnoordhuis: okay
21:55 < mscdex> konobi: that's because i never had a generated header for that platform
21:56 < bnoordhuis> jasonkuhrt: what does the output from `openssl asn1parse < cert.pem` look like?
21:56 <@konobi> ah... heh
21:56 <@tjfontaine> killfill: success/failure?
21:57 <@tjfontaine> sigh
21:58 < jasonkuhrt> bnoordhuis : its a big output, see result in gist - https://gist.github.com/jasonkuhrt/28a278d59bbcfddaefd6
21:58 <@konobi> mscdex: any tips?
21:58 < owen1> 'npm install nodeconf2013' errors on johnny-five - http://pastebin.com/88fGa3FV   can anyone try installing it as well?
21:59 < bnoordhuis> jasonkuhrt: did you truncate it? it looks too short
21:59 < jasonkuhrt> bnoordhuis: nope, no truncation
21:59 < mscdex> konobi: it's a recurring theme in almost all of my bindings since i could never figure out how to build/use a smartos/illumos/openindiana/opensolaris/whatever VM locally
22:00 < mscdex> konobi: just grab a copy of the same version of ncurses that's bundled, compile it, then add the generated file IIRC
22:00 <@konobi> kk
22:00 < mscdex> konobi: might need to edit config.gypi too
22:01 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
22:01 < jasonkuhrt> bnoordhuis: shoot, got to go, maybe I'll by lucky and find you again later ; ), thanks so much for your time
22:02 <@konobi> mscdex: i just use the generated vmware image on the smartos download site
22:05 < bnoordhuis> jasonkuhrt: ah, too bad. wanted to ask you what `openssl x509 -noout -text < cert.pem` prints
22:14 <@konobi> mscdex: which configure args?
22:16 < heath> anyone familiar with something like a "whereami" command for the builtin debugger? i'm trying to figure out where i'm located within the script :)
22:17 < Havvy> heath: try { throw new Error(); } catch (Error e) { console.log(require('util').inspect(e)); }
22:18 < heath> Havvy, instead of: node debug server.js #where within that file i have a breakpoint set with the `debugger` statement?
22:18 < luckyjajj> what is good why to test REST api written in Node ?
22:19 < luckyjajj> way*
22:19 < Havvy> heath: I've not used the debugger. I'm just assuming you can throw new code at that point.
22:20 < bnoordhuis> heath: backtrace?
22:23  * heath was afk for a bit
22:23 < heath> i thought `list` is what i needed but it just returns: [Function]
22:24 < heath> which I'm guessing is saying that I'm within a function... which I know already :P
22:25 < bnoordhuis> heath: it's something we can probably add. open an issue if you want or (even better) send a pull request :)
22:30 < stephenyoung> luckyjajj I've used http://frisbyjs.com/ for that with pretty decent success.
22:30 < tim_smart> file write streams on latest node master break node-formidable :(
22:32 <@tjfontaine> killfill: did that patch get you somewhere?
22:32 < luckyjajj> stephenyoung: thanks 
22:33 < killfill> tjfontaine: sorry have a problem in the office will test it in home
22:34 <@tjfontaine> killfill: ok
22:51 < moldy> hi
22:52 < moldy> after running "npm install yuglify", where can i expect to find the yuglify binary? 
22:52 <@tjfontaine> node_modules/.bin
22:53 <@tjfontaine> or use `npm install -g yuglify` and should be in your path, depending on your environment you may need to `sudo npm install -g ...`
22:53 < moldy> tjfontaine: -g did it, thanks
22:53 < moldy> what exactly does -g do?
22:54 <@tjfontaine> moldy: installs globally, really only useful for things that ship scripts
22:54 <@tjfontaine> well, mostly useful for that
22:56 < moldy> tjfontaine: i see. i am just using node/npm to get the yuglify script. 
23:33 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
23:36 < kumavis> anyone know of any canvas/html flow chart making modules?
--- Log closed Fri Jun 21 00:00:02 2013
