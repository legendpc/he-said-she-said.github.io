luminous: https://gist.github.com/killdream/1522457#file-test-hs