I use the Mongo DB Native NodeJS Driver - chains.update({x: data.id}, data, {safe: true, upsert: true}, function(err, chain) {}); but it's not upsertng and i have collections with the same x.  when i try this from the console it's working as expected - db.chains.update({'x': 2},{'x': 2, 'y': 5}, true) any idea why?